{"remainingRequest":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Account.vue","mtime":1620837977927},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBY2NvdW50IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXBkYXRlQmlvOiBmYWxzZSwKICAgICAgdXBkYXRlVXNlcm5hbWU6IGZhbHNlLAogICAgICB1c2VybmFtZTogdHJ1ZSwKICAgICAgc2hvd0JpbzogdHJ1ZSwKICAgICAgaXNWYWxpZDogdHJ1ZSwKICAgICAgb3B0aW9uczogZmFsc2UsCiAgICAgIG5ld1BzZXVkbzogIiIsCiAgICAgIG5ld0JpbzogIiIsCiAgICAgIHBzZXVkb1J1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5sZW5ndGggPD0gNDUgfHwgIk1heCA0NSBjYXJhY3TDqHJlcyI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiTGUgcHNldWRvIGVzdCBvYmxpZ2F0b2lyZSI7CiAgICAgIH1dLAogICAgICBmaWxlOiAiIiwKICAgICAgbWVzc2FnZVJldG91cjogbnVsbCwKICAgICAgZXJyb3JNZXNzYWdlOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXI7CiAgICB9LAogICAgY29ubmVjdGVkOiBmdW5jdGlvbiBjb25uZWN0ZWQoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0VXNlckJ5SWQiKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJhY2tIb21lOiBmdW5jdGlvbiBnZXRCYWNrSG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSgpIHsKICAgICAgdGhpcy51cGRhdGVVc2VybmFtZSA9IHRydWU7CiAgICAgIHRoaXMudXNlcm5hbWUgPSBmYWxzZTsKICAgICAgdGhpcy5vcHRpb25zID0gdHJ1ZTsKICAgIH0sCiAgICBiaW86IGZ1bmN0aW9uIGJpbygpIHsKICAgICAgdGhpcy51cGRhdGVCaW8gPSB0cnVlOwogICAgICB0aGlzLnNob3dCaW8gPSBmYWxzZTsKICAgICAgdGhpcy5vcHRpb25zID0gdHJ1ZTsKICAgIH0sCiAgICB1cGxvYWRJbWFnZTogZnVuY3Rpb24gdXBsb2FkSW1hZ2UoKSB7CiAgICAgIHZhciBmaWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICB0aGlzLmZpbGUgPSBmaWxlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGUpOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicHNldWRvIiwgdGhpcy5uZXdQc2V1ZG8pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImJpbyIsIHRoaXMubmV3QmlvKTsKCiAgICAgIGlmICh0aGlzLmZpbGUgIT09IG51bGwpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImltYWdlIiwgdGhpcy5maWxlKTsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFVzZXJzIik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyQnlJZCIsIHRoaXMudXNlci5pZCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVBY2NvdW50IiwgZm9ybURhdGEpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0VXNlckJ5SWQiLCB0aGlzLnVzZXIuaWQpOwogICAgICB0aGlzLnVwZGF0ZUJpbyA9IGZhbHNlOwogICAgICB0aGlzLnVwZGF0ZVVzZXJuYW1lID0gZmFsc2U7CiAgICAgIHRoaXMub3B0aW9ucyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dCaW8gPSB0cnVlOwogICAgICB0aGlzLnVzZXJuYW1lID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVBY2NvdW50OiBmdW5jdGlvbiBkZWxldGVBY2NvdW50KGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlQWNjb3VudCIsIGlkKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvZ091dCIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5nZXRCYWNrSG9tZSgpOwogICAgICB9LCAyMDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Account.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  \n      <v-card \n        v-if=\"$store.state.connected\"\n        class=\"mx-auto my-12\"\n        max-width=\"800\"\n        >\n        \n            <v-btn to=\"/posts\">\n          <i class=\"fas fa-arrow-left\"></i>\n            </v-btn>\n            <v-card-title>\n              <h1>Modifier le profil</h1>\n            </v-card-title>\n            <v-card-text>\n            <div\n              v-if=\"username\"\n            >\n            <h6>Nom d'utilisateur:</h6>\n            <div class=\"setmodification\">\n              <p> {{ user.pseudo }} </p>\n              <v-btn @click=\"modify\" x-small>\n                Modifier\n              </v-btn>\n              </div>\n            </div>\n            <v-text-field\n              v-if=\"updateUsername\"\n              label=\"Entrez votre nouveau nom d'utilisateur!\"\n              v-model=\"newPseudo\"\n              :rules=\"pseudoRules\"\n              required\n              counter=\"45\"\n            ></v-text-field>\n            </v-card-text>\n\n          <v-divider class=\"mx-4\"></v-divider>\n\n          <v-card-text v-if=\"showBio\">\n              <h6>Bio:</h6>\n              <div class=\"setmodification\">\n                <p v-if=\"!user.bio\"> A propos de moi...</p>\n                <p>{{ user.bio }}</p>\n            <v-btn @click=\"bio\" x-small>\n              Modifier\n            </v-btn>\n            </div>\n          </v-card-text>\n\n          <v-text-field\n            label=\"Entrer votre nouvelle bio!\"\n            v-if=\"updateBio\"\n            v-model=\"newBio\"\n          >\n          </v-text-field>\n          <div>\n            <v-card-text v-if=\"options\" class=\"msg\">\n              <div class=\"danger-alert\" v-html=\"errorMessage\" />\n              <div class=\"danger-alert\" v-html=\"messageRetour\" />\n\n              <div class=\"d-flex justify-center\">\n                <v-btn @click=\"onSubmit(user.id)\" :disabled=\"!isValid\"\n                  >Envoyer</v-btn\n                >\n              </div>\n            </v-card-text>\n          </div>\n        </v-card>\n</template>\n\n<script>\n\nexport default {\n  name: \"Account\",\n  data() {\n    return {\n      updateBio: false,\n      updateUsername: false,\n      username: true,\n      showBio: true,\n      isValid: true,\n      options: false,\n      newPseudo: \"\",\n      newBio: \"\",\n      pseudoRules: [\n        (v) => v.length <= 45 || \"Max 45 caractÃ¨res\",\n        (v) => !!v || \"Le pseudo est obligatoire\",\n      ],\n      file: \"\",\n      messageRetour: null,\n      errorMessage: null,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.getters.user;\n    },\n    connected() {\n      if (this.$store.state.connected) {\n        return\n      } else {\n        return \"\";\n      }\n    },\n  },\n  beforeMount() {\n    this.$store.dispatch(\"getUserById\");\n  },\n  methods: {\n\n    getBackHome() {\n      this.$router.push(\"/\");\n    },\n    modify() {\n      this.updateUsername = true;\n      this.username = false;\n      this.options = true;\n    },\n    \n    bio() {\n      this.updateBio = true;\n      this.showBio = false;\n      this.options = true;\n    },\n    uploadImage() {\n      const file = this.$refs.file.files[0];\n      this.file = file;\n      console.log(this.file);\n    },\n    onSubmit() {\n      const formData = new FormData();\n      formData.append(\"pseudo\", this.newPseudo);\n      formData.append(\"bio\", this.newBio);\n      if (this.file !== null) {\n        formData.append(\"image\", this.file);\n      }\n      this.$store.dispatch(\"getUsers\");\n      this.$store.dispatch(\"getUserById\", this.user.id);\n      this.$store.dispatch(\"updateAccount\", formData);\n      this.$store.dispatch(\"getUserById\", this.user.id);\n      this.updateBio = false;\n      this.updateUsername = false;\n      this.options = false;\n      this.showBio = true;\n      this.username = true;\n    },\n    deleteAccount(id) {\n      this.$store.dispatch(\"deleteAccount\", id);\n      this.$store.dispatch(\"logOut\");\n      setTimeout(() => {\n        this.getBackHome();\n      }, 2000);\n    },\n  },\n};\n</script>\n\n<style>\n.v-avatar {\n  margin-top: -30px;\n  margin-right: 1em;\n}\n.account-card {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 2em;\n  margin-bottom: 4em;\n}\n.profil-top {\n  display: flex;\n  justify-content: space-between;\n  padding-top: 1em;\n}\n.profil-middle {\n  width: 100%;\n  margin: auto !important;\n}\n.profil-title {\n  padding: 0;\n}\n\n.signup-container{\n  padding: 20px;\n}\n.setmodification{\n  display: flex;\n  justify-content: space-between;\n}\n.msg{\n  display: block;\n}\n</style>"],"sourceRoot":"src/components"}]}