{"remainingRequest":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Posts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Posts.vue","mtime":1620383265888},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0F3YS9Tb2NpYWxOZXR3b3JrL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQb3N0U2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Qb3N0U2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUG9zdHMiLAogIHByb3BzOiB7CiAgICBwb3N0OiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICB3aWR0aDogNTAwLAogICAgICBjb21tZW50Rm9ybTogZmFsc2UsCiAgICAgIHVzZXI6IGZhbHNlLAogICAgICBzaG93RmVlZDogdHJ1ZSwKICAgICAgdXBkYXRlOiBmYWxzZSwKICAgICAgaXNWYWxpZDogdHJ1ZSwKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24gcmVxdWlyZWQodmFsdWUpIHsKICAgICAgICAgIHJldHVybiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWVzc2FnZVJldG91cjogbnVsbCwKICAgICAgZXJyb3JNZXNzYWdlOiBudWxsLAogICAgICBkYXRhOiB7CiAgICAgICAgY29tbWVudE1lc3NhZ2U6ICIiLAogICAgICAgIGNvbW1lbnRQc2V1ZG86IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIucHNldWRvCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNMaWtlZDogZnVuY3Rpb24gaXNMaWtlZCgpIHsKICAgICAgdmFyIHVzZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaWQ7CiAgICAgIHZhciB1c2VyTGlrZSA9IHRoaXMucG9zdC5MaWtlcy5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICByZXR1cm4gYS5Vc2VySWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHVzZXJMaWtlLmluY2x1ZGVzKHVzZXJJZCkpIHsKICAgICAgICByZXR1cm4gInBpbmsiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVsb2FkRmVlZDogZnVuY3Rpb24gcmVsb2FkRmVlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gUG9zdFNlcnZpY2UuZ2V0UG9zdHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMucG9zdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3I7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFByb2ZpbGU6IGZ1bmN0aW9uIGdldFByb2ZpbGUoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hY2NvdW50LyIuY29uY2F0KGlkKSk7CiAgICB9LAogICAgZGVsZXRlUG9zdDogZnVuY3Rpb24gZGVsZXRlUG9zdCgpIHsKICAgICAgdGhpcy4kZW1pdCgiZGVsZXRlUG9zdCIsIHRoaXMucG9zdC5pZCk7CiAgICB9LAogICAgbGlrZVBvc3Q6IGZ1bmN0aW9uIGxpa2VQb3N0KCkgewogICAgICB0aGlzLiRlbWl0KCJsaWtlUG9zdCIsIHRoaXMucG9zdC5pZCk7CiAgICB9LAogICAgZ2V0T25lUG9zdDogZnVuY3Rpb24gZ2V0T25lUG9zdChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgicG9zdHMvIi5jb25jYXQoaWQpKTsKICAgIH0sCiAgICBvblN1Ym1pdENvbW1lbnQ6IGZ1bmN0aW9uIG9uU3VibWl0Q29tbWVudChpZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0UG9zdHMiKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNvbW1lbnRQb3N0IiwgewogICAgICAgIGlkOiBpZCwKICAgICAgICBkYXRhOiB0aGlzLmRhdGEKICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YS5jb21tZW50TWVzc2FnZSA9ICIiOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0UG9zdHMiKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFBvc3RCeUlkIiwgdGhpcy5wb3N0LmlkKTsKICAgIH0sCiAgICBkZWxldGVDb21tZW50OiBmdW5jdGlvbiBkZWxldGVDb21tZW50KGlkKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVDb21tZW50IiwgaWQpLCB0aGlzLnJlbG9hZEZlZWQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Posts.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <v-card class=\"posts-card mx-auto mt-4 mb-4 pb-5\" round elevation=\"2\">\r\n      <div>\r\n        <div class=\"d-flex justify-space-between pr-2 \">\r\n          <v-card-title class=\"post-title\">\r\n            <v-avatar class=\"profil-post\" size=\"52px\">\r\n              <img\r\n                v-if=\"post.User.photo\"\r\n                :src=\"post.User.photo\"\r\n                alt=\"Photo de profil\"\r\n              />\r\n              <v-icon\r\n                role=\"avatar personnalisÃ©\"\r\n                v-else-if=\"\r\n                  post.User.photo === null &&\r\n                    post.User.id === $store.state.user.id\r\n                \"\r\n                color=\"pink\"\r\n                size=\"52px\"\r\n                >$vuetify.icons.account</v-icon\r\n              >\r\n              <v-icon role=\"avatar\" size=\"52px\" v-else\r\n                >$vuetify.icons.account</v-icon\r\n              >\r\n            </v-avatar>\r\n            <div class=\"nom-date mt-3\">\r\n              <span class=\"pseudo text-left ml-5\">{{ post.User.pseudo }}</span>\r\n              <span class=\"date ml-5 text-left\">{{\r\n                post.createdAt | moment(\"calendar\")\r\n              }}</span>\r\n            </div>\r\n          </v-card-title>\r\n          <div class=\"post-options\">\r\n            <v-tooltip v-if=\"$store.state.user.id == post.User.id\" bottom>\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                  class=\"mx-2\"\r\n                  fab\r\n                  primary\r\n                  x-small\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                  aria-label=\"modifier le post\"\r\n                  @click=\"getOnePost(post.id)\"\r\n                >\r\n                  <v-icon class=\" rounded-circle\">$vuetify.icons.update</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Modifier</span>\r\n            </v-tooltip>\r\n            <v-tooltip\r\n              v-if=\"\r\n                $store.state.user.id === post.User.id ||\r\n                  $store.state.user.admin === true\r\n              \"\r\n              bottom\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                  class=\"mx-2\"\r\n                  fab\r\n                  primary\r\n                  x-small\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                  aria-label=\"supprimer le post\"\r\n                  @click=\"deletePost(post.id)\"\r\n                >\r\n                  <v-icon small class=\" rounded-circle\">\r\n                    $vuetify.icons.delete\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Supprimer</span>\r\n            </v-tooltip>\r\n          </div>\r\n        </div>\r\n        <div class=\"pl-3 pr-2-3\">\r\n          <v-card-text class=\"text-left\">\r\n            <p class=\"body-1\">\r\n              {{ post.message }}\r\n            </p>\r\n          </v-card-text>\r\n        </div>\r\n        <div class=\"pb-5\">\r\n          <v-img\r\n            v-if=\"post.link\"\r\n            :src=\"post.link\"\r\n            alt=\"lien postÃ© par l'utilisateur\"\r\n            :max-height=\"300\"\r\n            :max-width=\"400\"\r\n            class=\"mx-auto pb-5\"\r\n          >\r\n          </v-img>\r\n          <v-img\r\n            v-if=\"post.imageUrl\"\r\n            :src=\"post.imageUrl\"\r\n            alt=\"image postÃ©e par l'utilisateur\"\r\n            :max-height=\"600\"\r\n            :max-width=\"400\"\r\n            class=\"mx-auto pb-5\"\r\n          >\r\n          </v-img>\r\n        </div>\r\n        <v-divider></v-divider>\r\n        <div class=\"d-flex flex-column align-end pr-3\">\r\n          <div>{{ post.Comments.length }} comments</div>\r\n          <div>{{ post.Likes.length }} j'aime</div>\r\n        </div>\r\n        <v-divider></v-divider>\r\n        <v-card-actions class=\"pt-5  pr-4 d-flex justify-space-between\">\r\n          <div class=\" d-flex justify-md-space-between\">\r\n            <v-btn @click=\"show = !show\" text aria-label=\"accÃ¨s commentaires\">\r\n              Commentaires\r\n            </v-btn>\r\n            <v-btn icon @click=\"show = !show\" aria-label=\"accÃ¨s commentaires\">\r\n              <v-icon>{{\r\n                show ? \"mdi-chevron-up\" : \"mdi-chevron-down\"\r\n              }}</v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <div class=\"d-flex  align-end pr-3\">\r\n            <v-btn\r\n              @click=\"likePost(post.id)\"\r\n              x-small\r\n              aria-label=\"liker\"\r\n              class=\"like-btn\"\r\n            >\r\n              <v-icon :color=\"isLiked\">\r\n                $vuetify.icons.like\r\n              </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </v-card-actions>\r\n        <v-expand-transition>\r\n          <div v-show=\"show\">\r\n            <v-divider></v-divider>\r\n            <div class=\"comments-box d-flex flex-column justify-center\">\r\n              <v-card-text class=\"comment-input\">\r\n                <v-form\r\n                  v-model=\"isValid\"\r\n                  @submit.prevent=\"onSubmitComment(post.id)\"\r\n                  enctype=\"multipart/form-data\"\r\n                  class=\"validate comment-form\"\r\n                >\r\n                  <v-text-field\r\n                    name=\"input-1-3\"\r\n                    label=\"ton commentaire\"\r\n                    v-model=\"data.commentMessage\"\r\n                    auto-grow\r\n                    class=\"comment-form__message input-group--focused\"\r\n                  >\r\n                  </v-text-field>\r\n                  <v-btn\r\n                    @click=\"onSubmitComment(post.id)\"\r\n                    :disabled=\"!isValid\"\r\n                    class=\"comment-form__btn\"\r\n                    aria-label=\"publier commentaire\"\r\n                    >Poster</v-btn\r\n                  >\r\n                </v-form>\r\n                <div>\r\n                  <div class=\"danger-alert\" v-html=\"errorMessage\" />\r\n                  <div class=\"danger-alert\" v-html=\"messageRetour\" />\r\n                </div>\r\n              </v-card-text>\r\n              <v-list\r\n                v-for=\"comment in post.Comments\"\r\n                :key=\"comment.id\"\r\n                :comment=\"comment\"\r\n              >\r\n                <v-list-item class=\"comment\">\r\n                  <v-list-item-avatar class=\"comment_photo\">\r\n                    <img\r\n                      v-if=\"comment.User.photo !== null\"\r\n                      :src=\"comment.User.photo\"\r\n                      alt=\"Photo de profil\"\r\n                    />\r\n                    <v-icon\r\n                      v-else-if=\"\r\n                        comment.User.photo === null &&\r\n                          comment.UserId === $store.state.user.id\r\n                      \"\r\n                      color=\"pink\"\r\n                      size=\"32px\"\r\n                      role=\"avatar\"\r\n                      >$vuetify.icons.account</v-icon\r\n                    >\r\n                    <v-icon v-else size=\"32px\" role=\"avatar\"\r\n                      >$vuetify.icons.account</v-icon\r\n                    >\r\n                  </v-list-item-avatar>\r\n\r\n                  <v-list-item-content class=\"comment_body d-flex \">\r\n                    <strong\r\n                      v-html=\"comment.User.pseudo\"\r\n                      class=\"pr-5 text-left  pseudo comment__pseudo\"\r\n                    ></strong>\r\n                    <span\r\n                      v-html=\"comment.message\"\r\n                      class=\" text-left comment__message\"\r\n                    ></span>\r\n                  </v-list-item-content>\r\n\r\n                  <v-tooltip bottom>\r\n                    <template\r\n                      v-if=\"\r\n                        $store.state.user.id === comment.UserId ||\r\n                          $store.state.user.admin === true\r\n                      \"\r\n                      v-slot:activator=\"{ on, attrs }\"\r\n                    >\r\n                      <v-btn fab primary x-small v-bind=\"attrs\" v-on=\"on\">\r\n                        <v-icon\r\n                          @click=\"deleteComment(comment.id)\"\r\n                          class=\" rounded-circle \"\r\n                          aria-label=\"supprimer commentaire\"\r\n                          >$vuetify.icons.delete\r\n                        </v-icon>\r\n                      </v-btn>\r\n                    </template>\r\n                    <span>Supprimer</span>\r\n                  </v-tooltip>\r\n                </v-list-item>\r\n                <v-divider></v-divider>\r\n              </v-list>\r\n            </div>\r\n          </div>\r\n        </v-expand-transition>\r\n      </div>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostService from \"../services/PostService\";\r\nexport default {\r\n  name: \"Posts\",\r\n  props: {\r\n    post: {\r\n      type: Object,\r\n    },\r\n  },\r\n  data: function() {\r\n    return {\r\n      show: false,\r\n      width: 500,\r\n      commentForm: false,\r\n      user: false,\r\n      showFeed: true,\r\n      update: false,\r\n      isValid: true,\r\n      rules: {\r\n        required: (value) => !!value || \"Required.\",\r\n      },\r\n      messageRetour: null,\r\n      errorMessage: null,\r\n      data: {\r\n        commentMessage: \"\",\r\n        commentPseudo: this.$store.state.user.pseudo,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    isLiked() {\r\n      const userId = this.$store.state.user.id;\r\n      let userLike = this.post.Likes.map((a) => a.UserId);\r\n      if (userLike.includes(userId)) {\r\n        return \"pink\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async reloadFeed() {\r\n      try {\r\n        const response = await PostService.getPosts();\r\n        this.posts = response.data;\r\n      } catch (error) {\r\n        this.errorMessage = error.response.data.error;\r\n      }\r\n    },\r\n    getProfile(id) {\r\n      this.$router.push(`/account/${id}`);\r\n    },\r\n    deletePost() {\r\n      this.$emit(\"deletePost\", this.post.id);\r\n    },\r\n    likePost() {\r\n      this.$emit(\"likePost\", this.post.id);\r\n    },\r\n    getOnePost(id) {\r\n      this.$router.push(`posts/${id}`);\r\n    },\r\n    onSubmitComment(id) {\r\n      this.$store.dispatch(\"getPosts\");\r\n      this.$store.dispatch(\"commentPost\", {\r\n        id: id,\r\n        data: this.data,\r\n      });\r\n      this.data.commentMessage = \"\";\r\n      this.$store.dispatch(\"getPosts\");\r\n      this.$store.dispatch(\"getPostById\", this.post.id);\r\n    },\r\n    deleteComment(id) {\r\n      this.$store.dispatch(\"deleteComment\", id), this.reloadFeed();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>"],"sourceRoot":"src/components"}]}