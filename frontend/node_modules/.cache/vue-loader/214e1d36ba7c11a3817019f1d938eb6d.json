{"remainingRequest":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Accounts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\src\\components\\Accounts.vue","mtime":1620383129886},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Awa\\SocialNetwork\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBY2NvdW50IiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4geyAgICAgIA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdXNlcnMoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyczsNCiAgICB9ICAgIA0KICB9LA0KICBiZWZvcmVNb3VudCgpIHsNCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0VXNlcnMiKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldEJhY2tIb21lKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICB9LA0KICAgIGxvZ091dCgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRUb2tlbiIsIG51bGwpOw0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFVzZXIiLCBudWxsKTsNCiAgICB9LA0KICAgIGRlbGV0ZUFjY291bnQoaWQpIHsgICAgIA0KICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci5hZG1pbiA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlQWNjb3VudCIsIGlkKTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlQWNjb3VudCIsIGlkKTsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvZ091dCIpOw0KICAgICAgICB0aGlzLmdldEJhY2tIb21lKCk7DQogICAgICB9DQogICAgfSwNCiAgIA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Accounts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Accounts.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container fluid class=\"signup-container\">\r\n    <div class=\"account\"> \r\n\r\n      <v-layout v-if=\"$store.state.users\" row class=\"account-box\">\r\n        <v-card\r\n          v-for=\"user of users\"\r\n          :key=\"user.id\"\r\n          :user=\"user\"\r\n          class=\"users\"\r\n          elevation=\"3\"\r\n        >\r\n          <div class=\"d-flex justify-space-between\">\r\n            <v-card-title flat dense dark>\r\n              <v-avatar size=\"42px\" class=\"mt-3\">\r\n                <img\r\n                  v-if=\"user.photo\"\r\n                  :src=\"user.photo\"\r\n                  alt=\"Photo de profil\"\r\n                />\r\n                <v-icon\r\n                  role=\"avatar\"\r\n                  v-else-if=\"\r\n                    (user.photo === null) & ($store.state.user.id === user.id)\r\n                  \"\r\n                  color=\"pink\"\r\n                  size=\"42\"\r\n                  >$vuetify.icons.account</v-icon\r\n                >\r\n                <v-icon role=\"avatar\" v-else size=\"42\"\r\n                  >$vuetify.icons.account</v-icon\r\n                >\r\n              </v-avatar>\r\n              <div class=\"d-flex flex-column\">\r\n                <div>\r\n                  <strong class=\"pseudo\">Pseudo : </strong\r\n                  ><span>{{ user.pseudo }}</span>\r\n                </div>\r\n                <div>\r\n                  <strong>Email : </strong><span>{{ user.email }}</span>\r\n                </div>\r\n              </div>\r\n            </v-card-title>\r\n            <div>\r\n            \r\n              <v-tooltip\r\n                v-if=\"\r\n                  ($store.state.user.id === user.id) ||\r\n                    ($store.state.user.admin === true)\r\n                \"\r\n                bottom\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-btn\r\n                    class=\"delete-btn\"\r\n                    @click=\"deleteAccount(user.id)\"\r\n                    fab\r\n                    primary\r\n                    x-small\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    aria-label=\"supprimer le compte\"\r\n                  >\r\n                    <v-icon small class=\" rounded-circle \">\r\n                      $vuetify.icons.delete\r\n                    </v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <span>Supprimer le compte</span>\r\n              </v-tooltip>\r\n            </div>\r\n          </div>\r\n        </v-card>\r\n      </v-layout>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Account\",\r\n  data() {\r\n    return {      \r\n    };\r\n  },\r\n  computed: {\r\n    users() {\r\n      return this.$store.getters.users;\r\n    }    \r\n  },\r\n  beforeMount() {\r\n    this.$store.dispatch(\"getUsers\");\r\n  },\r\n  methods: {\r\n    getBackHome() {\r\n      this.$router.push(\"/\");\r\n    },\r\n    logOut() {\r\n      this.$store.dispatch(\"setToken\", null);\r\n      this.$store.dispatch(\"setUser\", null);\r\n    },\r\n    deleteAccount(id) {     \r\n      if(this.$store.state.user.admin === true) {\r\n        this.$store.dispatch(\"deleteAccount\", id);\r\n      }\r\n      else {\r\n        this.$store.dispatch(\"deleteAccount\", id);\r\n        this.$store.dispatch(\"logOut\");\r\n        this.getBackHome();\r\n      }\r\n    },\r\n   \r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n.v-avatar {\r\n  margin-right: 1em;\r\n}\r\n.account {\r\n  width: 80%;\r\n}\r\n.delete-btn {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n}\r\n.dialog {\r\n  margin-top: 60px !important;\r\n  padding-left: 30px;\r\n}\r\n.account-box {\r\n  justify-content: center;\r\n  flex-direction: row-reverse;\r\n  margin-top: 3em;\r\n  margin-bottom: 3em;\r\n}\r\n.users {\r\n  margin-right: 2em;\r\n  margin-top: 2em;\r\n  width: 370px;\r\n  height: 120px;\r\n  position: relative;\r\n}\r\n</style>"]}]}